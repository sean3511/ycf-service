(()=>{"use strict";var e=function(){var e=document.querySelectorAll("#synaps-loader");e&&e.forEach((function(e){e.remove()}))},t=function(){var e=document.createElement("style");e.innerHTML="\n    .sy-loader {\n      height: 100%;\n      width: 100%;\n      background: rgba(0, 0, 0, 0.52);\n      background-color: rgba(0, 0, 0, 0.52);\n      background-position-x: 0%;\n      background-position-y: 0%;\n      background-repeat: repeat;\n      background-image: none;\n      background-size: auto;\n      background-image: url(\"data:image/svg+xml,%3Csvg width='38' height='38' viewBox='0 0 38 38' xmlns='http://www.w3.org/2000/svg' stroke='%23fff'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg transform='translate(1 1)' stroke-width='2'%3E%3Ccircle stroke-opacity='.5' cx='18' cy='18' r='18'/%3E%3Cpath d='M36 18c0-9.94-8.06-18-18-18'%3E%3CanimateTransform attributeName='transform' type='rotate' from='0 18 18' to='360 18 18' dur='1s' repeatCount='indefinite'/%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/svg%3E\"),url(\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='57px' height='57px' viewBox='0 0 57 57' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E%3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E%3Cg id='Artboard' transform='translate(-347.000000, -142.000000)' fill='%23FFFFFF' fill-rule='nonzero'%3E%3Cg transform='translate(347.000000, 142.000000)'%3E%3Cpath d='M14.0608761,17.653767 C14.0608761,15.6717143 15.6697613,14.0626285 17.651567,14.0626285 L39.3484328,14.0626285 C41.3302386,14.0626285 42.9391239,15.6717143 42.9391239,17.653767 L42.9391239,22.2430361 L39.6893887,22.2430361 L39.6893887,17.653767 C39.6893887,17.4655075 39.536669,17.3127687 39.3484328,17.3127687 L17.651567,17.3127687 C17.463331,17.3127687 17.3106112,17.4655075 17.3106112,17.653767 L17.3106112,26.5374837 C17.3106112,26.725743 17.463331,26.878482 17.651567,26.878482 L39.3484328,26.878482 C41.3302386,26.878482 42.9391239,28.4875677 42.9391239,30.4696205 L42.9391239,39.3533371 C42.9391239,41.3353899 41.3302386,42.9444756 39.3484328,42.9444756 L17.651567,42.9444756 C15.6697613,42.9444756 14.0608761,41.3353899 14.0608761,39.3533371 L14.0608761,34.764068 L17.3106112,34.764068 L17.3106112,39.3533371 C17.3106112,39.5415966 17.463331,39.6943355 17.651567,39.6943355 L39.3484328,39.6943355 C39.536669,39.6943355 39.6893887,39.5415966 39.6893887,39.3533371 L39.6893887,30.4696205 C39.6893887,30.281361 39.536669,30.1286221 39.3484328,30.1286221 L17.651567,30.1286221 C15.6697613,30.1286221 14.0608761,28.5195364 14.0608761,26.5374837 L14.0608761,17.653767 L14.0608761,17.653767 Z' id='Path'%3E%3C/path%3E%3Cpath d='M7.03221384,10.6206768 C7.03221384,8.63862404 8.64109913,7.02953823 10.6229048,7.02953823 L46.3770952,7.02953823 C48.3589008,7.02953823 49.9677861,8.63862404 49.9677861,10.6206768 L49.9677861,18.4387736 L46.7180509,18.4387736 L46.7180509,10.6206768 C46.7180509,10.4324173 46.5653312,10.2796784 46.3770952,10.2796784 L10.6229048,10.2796784 C10.4346688,10.2796784 10.281949,10.4324173 10.281949,10.6206768 L10.281949,26.5339316 C10.281949,26.7221911 10.4346688,26.8749298 10.6229048,26.8749298 L46.3770952,26.8749298 C48.3589008,26.8749298 49.9677861,28.4840158 49.9677861,30.4660684 L49.9677861,46.3793232 C49.9677861,48.361376 48.3589008,49.9704618 46.3770952,49.9704618 L10.6229048,49.9704618 C8.64109913,49.9704618 7.03221384,48.361376 7.03221384,46.3793232 L7.03221384,38.5718826 L10.281949,38.5718826 L10.281949,46.3828753 C10.281949,46.5711348 10.4346688,46.7238737 10.6229048,46.7238737 L46.3770952,46.7238737 C46.5653312,46.7238737 46.7180509,46.5711348 46.7180509,46.3828753 L46.7180509,30.4696205 C46.7180509,30.281361 46.5653312,30.1286221 46.3770952,30.1286221 L10.6229048,30.1286221 C8.64109913,30.1286221 7.03221384,28.5195364 7.03221384,26.5374837 L7.03221384,10.6206768 Z' id='Path'%3E%3C/path%3E%3Cpath d='M0.00355162315,3.59113853 C0.00355162315,1.60908581 1.61243691,0 3.59424263,0 L53.409309,0 C55.3911147,0 57,1.60908581 57,3.59113853 L57,14.6309591 L53.7502648,14.6309591 L53.7502648,3.59113853 C53.7502648,3.40287905 53.5975449,3.25014021 53.409309,3.25014021 L3.59069101,3.25014021 C3.40245497,3.25014021 3.24973519,3.40287905 3.24973519,3.59113853 L3.24973519,26.5339316 C3.24973519,26.7221911 3.40245497,26.8749298 3.59069101,26.8749298 L53.4057574,26.8749298 C55.387563,26.8749298 56.9964483,28.4840158 56.9964483,30.4660684 L56.9964483,53.4088614 C56.9964483,55.3909142 55.387563,57 53.4057574,57 L3.59069101,57 C1.60888529,57 0,55.3909142 0,53.4088614 L0,42.3725931 L3.24973519,42.3725931 L3.24973519,53.4124136 C3.24973519,53.600673 3.40245497,53.7534118 3.59069101,53.7534118 L53.4057574,53.7534118 C53.5939933,53.7534118 53.7467132,53.600673 53.7467132,53.4124136 L53.7467132,30.4696205 C53.7467132,30.281361 53.5939933,30.1286221 53.4057574,30.1286221 L3.59069101,30.1286221 C1.60888529,30.1286221 0,28.5195364 0,26.5374837 L0,3.59113853 L0.00355162315,3.59113853 Z' id='Path'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n      background-size: 75px,25px;\n      background-repeat: no-repeat,no-repeat;\n      background-position: center center,center center;\n      background-color: rgb(0 0 0 / 50%);\n    }\n  ",document.head.appendChild(e)},n=function(t,n){e();var a=document.createElement("div");a.classList.add("sy-loader");var r=document.createElement("div");r.id="synaps-loader","embed"===n&&(t.style.position="relative"),r.style.position="absolute",r.style.left="0",r.style.top="0",r.style.width="100%",r.style.height="100%",r.style.zIndex="999",r.appendChild(a),t.appendChild(r)},a=e,r=void 0,o=void 0,i={verifyUrl:"https://verify.synaps.io"},s=function(e,t){var n=null;return"modal"===e?((n=document.createElement("div")).id=t||"synaps-wrapper",document.body.appendChild(n)):n=document.getElementById(t||"synaps-wrapper"),n},d=function(e){var t=e.containerId,a=e.sessionId,o=e.lang,d=e.mode,l=void 0===d?"modal":d,c=e.walletAddress,p=e.withFinishButton,u=e.tier,h=e.service,m=s(l,t||"synaps-wrapper");if(!m)return console.error("No element found with id ".concat(t));n("modal"===l?document.body:m,l);var y=document.createElement("iframe"),C=new URL(i.verifyUrl);"corporate"===h&&C.searchParams.append("service",h),C.searchParams.append("session_id",a),C.searchParams.append("type",l),o&&C.searchParams.append("lang",o),c&&C.searchParams.append("wallet_address",c),p&&C.searchParams.append("with_finish_button","true"),u&&C.searchParams.append("tier",u),y.src=C.href,y.allowtransparency=!0,y.allowFullscreen=!0,y.allow="camera; microphone; midi; encrypted-media; clipboard-write;","modal"===l&&(y.style.position="absolute",y.style.left="0",y.style.top="0"),y.style.width="100%",y.style.height="100%",y.style.opacity="0",y.style.zIndex="-1",y.style.border="none",y.style.overflow="hidden",y.style.backgroundColor="none transparent",r=y,m.appendChild(y)},l=function(e){var t=e.onFinish,n=e.handleSign;window.addEventListener("message",(function(e){var s;if(e.stopImmediatePropagation(),e.origin.replace(/\/$/,"")===i.verifyUrl.replace(/\/$/,"")){if("ready"===e.data.type&&(a(),r&&(r.style.opacity="1",r.style.zIndex="999")),"finish"===e.data.type||"close"===e.data.type){var d=(o||{}).mode;"modal"===(void 0===d?"modal":d)&&(r?(a(),r.style.zIndex="-1",r.style.opacity="0"):console.error("No iframe found")),t&&t()}"request_sign"===e.data.type&&n&&n(e.data.data.payload).then((function(e){var t;null===(t=null==r?void 0:r.contentWindow)||void 0===t||t.postMessage({type:"sign",data:{signature:e}},i.verifyUrl)})),"update"===e.data.type&&(null===(s=null==r?void 0:r.contentWindow)||void 0===s||s.postMessage({type:"update",data:{}},i.verifyUrl))}}),!0)},c=function(e){var n=e.containerId,a=void 0===n?"synaps-wrapper":n,c=e.onFinish,p=e.handleSign,u=e.mode,h=void 0===u?"modal":u,m=e.service;"corporate"===(void 0===m?"individual":m)&&(i.verifyUrl="https://verify-v3.synaps.io");var y=s(h,a);if(!y)return console.error("No element found with id ".concat(a));r&&(y.contains(r)&&y.removeChild(r),r.remove()),t(),l({onFinish:c,handleSign:p}),"embed"===h&&d(e),o=e},p=function(){var e=(o||{}).mode;if("modal"===(void 0===e?"modal":e)&&o)d(o);else{if(!r)return void console.error("No iframe found");r.style.opacity="1",r.style.zIndex="999"}};document.querySelector("#synaps-btn-kyc").addEventListener("click",(()=>{fetch("https://crypto-assets-management.com/wp-json/synaps/v1/synapskyc").then((e=>{if(!e.ok)throw new Error("La requête a échoué. Code de statut : "+e.status);return e.text()})).then((e=>{console.log("Texte récupéré :",e),c({sessionId:e,onFinish:()=>{alert("Verification finished")},mode:"modal"}),p()})).catch((e=>{console.error("Erreur lors de la requête :",e)}))})),document.querySelector("#synaps-btn-kyb").addEventListener("click",(()=>{fetch("https://crypto-assets-management.com/wp-json/synaps/v1/synapskyb").then((e=>{if(!e.ok)throw new Error("La requête a échoué. Code de statut : "+e.status);return e.text()})).then((e=>{console.log("Texte récupéré :",e),c({sessionId:e,onFinish:()=>{alert("Verification finished")},mode:"modal"}),p()})).catch((e=>{console.error("Erreur lors de la requête :",e)}))}))})();